\documentclass[a4paper,12pt,oneside]{book}
\usepackage[T1]{fontenc} % Use 8-bit encoding that has 256 glyphs
\usepackage[utf8]{inputenc}
\usepackage{fourier} % Use the Adobe Utopia font for the document - comment this line to return to the LaTeX default
\usepackage{listings} % para insertar código con formato similar al editor
\usepackage[spanish, es-tabla]{babel} % Selecciona el español para palabras introducidas automáticamente, p.ej. "septiembre" en la fecha y especifica que se use la palabra Tabla en vez de Cuadro
\usepackage{url} % ,href} %para incluir URLs e hipervínculos dentro del texto (aunque hay que instalar href)
\usepackage{graphics,graphicx, float} %para incluir imágenes y colocarlas
\usepackage[gen]{eurosym} %para incluir el símbolo del euro
\usepackage{cite} %para incluir citas del archivo <nombre>.bib
\usepackage{enumerate}
\usepackage{hyperref}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{afterpage}
\usepackage{longtable}
\usepackage[stable]{footmisc}
\usepackage[table,xcdraw]{xcolor}
\usepackage[font=small,labelfont=bf,center]{caption}
\usepackage{subcaption}
\usepackage{placeins}
\usepackage{float}
\usepackage{adjustbox}
\usepackage{ragged2e}


% ********************************************************************
% Re-usable information
% ********************************************************************
\newcommand{\myTitle}{API para la gestión de mascotas en adopción\xspace}
\newcommand{\myTitleEn}{API for the management of animals for adoption\xspace}
\newcommand{\myDegree}{Grado en Ingeniería Informática\xspace}
\newcommand{\myName}{Manuel Ángel Rodríguez Segura\xspace}
\newcommand{\myProf}{Marcelino Cabrera Cuervas\xspace}
\newcommand{\myFaculty}{Escuela Técnica Superior de Ingenierías Informática y de Telecomunicación\xspace}
\newcommand{\myFacultyShort}{E.T.S. de Ingenierías Informática y de Telecomunicación\xspace}
\newcommand{\myDepartment}{Departamento de Lenguajes y Sistemas Informáticos\xspace}
\newcommand{\myProject}{Trabajo Fin de Grado\xspace}
\newcommand{\myUni}{\protect{Universidad de Granada}\xspace}
\newcommand{\myLocation}{Granada\xspace}
\newcommand{\myTime}{\today\xspace}
\newcommand{\myVersion}{Version 0.1\xspace}
\newcommand{\tabitem}{~~\llap{\textbullet}~~}
\newcolumntype{L}{>{\RaggedRight\arraybackslash}X}


\hypersetup{
    colorlinks=true,	% false: boxed links; true: colored links
    linkcolor=black,	% color of internal links
    urlcolor=cyan		% color of external links
}


\renewcommand{\familydefault}{\sfdefault}
\usepackage{fancyhdr} % Custom headers and footers
\pagestyle{fancyplain} % Makes all pages in the document conform to the custom headers and footers
\fancyhf{} % clear existing header/footer entries
% HEADER
\setlength{\headheight}{13.6pt} % Customize the height of the header
\fancyhead[L]{} % Empty left header
\fancyhead[C]{} % Empty center header
\fancyhead[R]{} % Empty right header
\fancyhead[LO]{\leftmark}
\fancyhead[RE]{\rightmark}
\fancyhead[RO,LE]{\thepage}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection. #1}}
% FOOOTER
\renewcommand{\footrulewidth}{0pt} % Remove footer underlines
\fancyfoot[L]{} % Empty left footer
\fancyfoot[C]{} % Empty center footer

\fancypagestyle{plain}{%
    \fancyhf{}% clear all header and footer fields
    \fancyfoot[C]{\thepage} % except the center
    \renewcommand{\headrulewidth}{0pt}%
    \renewcommand{\footrulewidth}{0pt}%
}

\fancypagestyle{coverpage}{%
    \fancyhf{}% clear all header and footer fields
    \fancyhead[L]{\myProject} % except the center
%    \renewcommand{\headrulewidth}{0pt}%
    \renewcommand{\footrulewidth}{0pt}%
}


\usepackage{titlesec, blindtext, color}
\newcommand{\hsp}{\hspace{20pt}}
\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter\hsp{|}\hsp}{0pt}{\Huge\bfseries}
\setcounter{secnumdepth}{3} % Turn off/on section numbers (0=no numbers, 1=numbers in sections, 2=numbers in subsections ...)
\setcounter{tocdepth}{3}
%\usepackage[Lenny]{fncychap}


\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
\newcommand{\bigrule}{\titlerule[0.5mm]}


%Definimos los tipos teorema, ejemplo y definición podremos usar estos tipos
%simplemente poniendo \begin{teorema} \end{teorema} ...
\newtheorem{teorema}{Teorema}[chapter]
\newtheorem{ejemplo}{Ejemplo}[chapter]
\newtheorem{definicion}{Definición}[chapter]

\definecolor{gray97}{gray}{.97}
\definecolor{gray75}{gray}{.75}
\definecolor{gray45}{gray}{.45}
\definecolor{gray30}{gray}{.94}

\lstset{ frame=Ltb,
    framerule=0.5pt,
    aboveskip=0.5cm,
    framextopmargin=3pt,
    framexbottommargin=3pt,
    framexleftmargin=0.1cm,
    framesep=0pt,
    rulesep=.4pt,
    backgroundcolor=\color{gray97},
    rulesepcolor=\color{black},
%
    stringstyle=\ttfamily,
    showstringspaces = false,
    basicstyle=\scriptsize\ttfamily,
    commentstyle=\color{gray45},
    keywordstyle=\bfseries,
%
    numbers=left,
    numbersep=6pt,
    numberstyle=\tiny,
    numberfirstline = false,
    breaklines=true,
}

% minimizar fragmentado de listados
\lstnewenvironment{listing}[1][]
{\lstset{#1}\pagebreak[0]}{\pagebreak[0]}

\lstdefinestyle{CodigoC}
{
    basicstyle=\scriptsize,
    frame=single,
    language=C,
    numbers=left
}
\lstdefinestyle{CodigoC++}
{
    basicstyle=\small,
    frame=single,
    backgroundcolor=\color{gray30},
    language=C++,
    numbers=left
}


\lstdefinestyle{Consola}
{
    basicstyle=\scriptsize\textbf{\ttfamily},
    backgroundcolor=\color{gray30},
    frame=single,
    numbers=none
}

%Para conseguir que en las páginas en blanco no ponga cabecerass
\makeatletter
\renewcommand{\clearpage}{%
    \ifvmode
    \ifnum \@dbltopnum =\m@ne\ifdim \pagetotal <\topskip
    \hbox{}
    \fi
    \fi
    \fi
    \newpage
    \thispagestyle{empty}
    \write\m@ne{}
    \vbox{}
    \penalty -\@Mi
}
\makeatother

\makeatletter
\newcommand\subsubsubsection{\@startsection{paragraph}{4}{\z@}{-2.5ex\@plus -1ex \@minus -.25ex}{1.25ex \@plus .25ex}{\normalfont\normalsize\bfseries}}
\newcommand\subsubsubsubsection{\@startsection{subparagraph}{5}{\z@}{-2.5ex\@plus -1ex \@minus -.25ex}{1.25ex \@plus .25ex}{\normalfont\normalsize\bfseries}}
\makeatother

\begin{document}

    % Plantilla portada UGR
    \input{portada/portada}

    % Plantilla prefacio UGR
    \input{prefacios/prefacio}

    \frontmatter

    % Índice de contenidos
    \newpage
    \tableofcontents

    % Índice de imágenes y tablas
    \newpage
    \listoffigures

    \newpage
    \listoftables

    \mainmatter
    \setlength{\parskip}{5pt}

    \input{capitulos/01_Introduccion}

    \input{capitulos/02_Planificacion_y_presupuesto.tex}

    \input{capitulos/03_Estado_del_arte.tex}

    \input{capitulos/04_Analisis_del_problema.tex}

    \input{capitulos/05_Arquitectura_y_diseno.tex}

    \input{capitulos/06_Implementacion_y_despliegues.tex}

    \input{capitulos/07_Seguridad_y_etica.tex}

    \input{capitulos/08_Conclusiones_y_trabajos_futuros.tex}

    \newpage
    \bibliography{bibliografia}\addcontentsline{toc}{chapter}{Bibliografía}
    \bibliographystyle{unsrt}
\end{document}
